<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Sam Rowe (samrowe101@gmail.com)" />


<title>Randomized controlled non-inferiority trial investigating the effect of two selective dry cow therapy protocols on antibiotic use and udder health - quarter-level outcomes</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/table1-1.0/table1_defaults.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/d3-3.3.8/d3.min.js"></script>
<script src="site_libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="site_libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="site_libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/chromatography-0.1/chromatography.js"></script>
<script src="site_libs/DiagrammeR-binding-1.0.1/DiagrammeR.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Selective Dry Cow Therapy Analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">R Analysis</a>
</li>
<li>
  <a href="Stata.html">STATA Analysis</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Randomized controlled non-inferiority trial investigating the effect of two selective dry cow therapy protocols on antibiotic use and udder health - quarter-level outcomes</h1>
<h4 class="author">Sam Rowe (<a href="mailto:samrowe101@gmail.com" class="email">samrowe101@gmail.com</a>)</h4>
<h4 class="date">August 1st, 2019</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#note-to-reader">NOTE TO READER</a><ul>
<li><a href="#analysis-was-conducted-using-r-studio-and-stata.-use-the-tabs-above-to-navigate-between-the-two.">Analysis was conducted using R-studio and STATA. Use the tabs above to navigate between the two.</a></li>
</ul></li>
<li><a href="#evaluate-data">Evaluate Data</a><ul>
<li><a href="#show-first-10-rows-of-baseline">Show first 10 rows of baseline</a></li>
<li><a href="#inspect-data">Inspect Data</a></li>
<li><a href="#compare-treatment-groups-at-baseline">Compare treatment groups at baseline</a></li>
<li><a href="#compare-herds">Compare herds</a></li>
<li><a href="#steps-1-2-of-model-building-were-conducted-in-r-this-document.">Steps 1-2 of model building were conducted in R (this document).</a></li>
<li><a href="#refer-to-stata-log-file-for-steps-3-6.">Refer to STATA log file for steps 3-6.</a></li>
</ul></li>
<li><a href="#outcome-1-cure">Outcome 1: Cure</a><ul>
<li><a href="#logistic-regression-model-for-dry-period-cure">Logistic regression model for dry period cure</a></li>
<li><a href="#model-building-plan">Model building plan</a><ul>
<li><a href="#step-1-dag">Step 1: DAG</a></li>
<li><a href="#step-2-identify-correlated-covariates">Step 2: Identify correlated covariates</a></li>
</ul></li>
</ul></li>
<li><a href="#outcome-2-imi-at-calving">Outcome 2: IMI at Calving</a><ul>
<li><a href="#logistic-regression-model-for-imi-at-calving">Logistic regression model for IMI at calving</a></li>
<li><a href="#model-building-plan-1">Model building plan</a><ul>
<li><a href="#step-1-dag-1">Step 1: DAG</a></li>
</ul></li>
</ul></li>
<li><a href="#outcome-3-new-imi">Outcome 3: New IMI</a><ul>
<li><a href="#logistic-regression-model-for-new-imi">Logistic regression model for new IMI</a></li>
<li><a href="#model-building-plan-2">Model building plan</a><ul>
<li><a href="#step-1-dag-2">Step 1: DAG</a></li>
</ul></li>
</ul></li>
</ul>
</div>

<p><br> <br> <br> <br></p>
<div id="note-to-reader" class="section level1">
<h1>NOTE TO READER</h1>
<div id="analysis-was-conducted-using-r-studio-and-stata.-use-the-tabs-above-to-navigate-between-the-two." class="section level3">
<h3>Analysis was conducted using R-studio and STATA. Use the tabs above to navigate between the two.</h3>
<p><br> <br> <br></p>
<pre class="r"><code>library(knitr)
#Mac
knitr::opts_knit$set(root.dir = &quot;~/Dropbox/R backup/SDCT - R&quot;)

#Windows
#knitr::opts_knit$set(root.dir = &quot;C:/Users/rowe0122/Dropbox/R backup/SDCT - R&quot;)</code></pre>
<p><br> <br></p>
</div>
</div>
<div id="evaluate-data" class="section level1">
<h1>Evaluate Data</h1>
<div id="show-first-10-rows-of-baseline" class="section level2">
<h2>Show first 10 rows of baseline</h2>
<pre class="r"><code>library(broom)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>load(file=&quot;SDCTQTR.Rdata&quot;)
load(file=&quot;Baseline.Rdata&quot;)
head(Baseline, n=10) %&gt;% kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">FARMID</th>
<th align="right">CowID</th>
<th align="left">QTR</th>
<th align="left">Tx</th>
<th align="left">Spectramast</th>
<th align="right">Age</th>
<th align="left">Parity</th>
<th align="right">IMIDO</th>
<th align="right">DOSCC</th>
<th align="right">DOMY</th>
<th align="right">DODIM</th>
<th align="left">PrevCM</th>
<th align="right">PrevSCCHI</th>
<th align="right">DPlength</th>
<th align="right">PCSampDIM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6</td>
<td align="right">6</td>
<td align="left">LF</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">36.08553</td>
<td align="left">1</td>
<td align="right">0</td>
<td align="right">3.988984</td>
<td align="right">32.65862</td>
<td align="right">316</td>
<td align="left">0</td>
<td align="right">5.924256</td>
<td align="right">55</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">6</td>
<td align="left">LR</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">36.08553</td>
<td align="left">1</td>
<td align="right">0</td>
<td align="right">3.988984</td>
<td align="right">32.65862</td>
<td align="right">316</td>
<td align="left">0</td>
<td align="right">5.924256</td>
<td align="right">55</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">6</td>
<td align="left">RF</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">36.08553</td>
<td align="left">1</td>
<td align="right">1</td>
<td align="right">3.988984</td>
<td align="right">32.65862</td>
<td align="right">316</td>
<td align="left">0</td>
<td align="right">5.924256</td>
<td align="right">55</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">6</td>
<td align="left">RR</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">36.08553</td>
<td align="left">1</td>
<td align="right">0</td>
<td align="right">3.988984</td>
<td align="right">32.65862</td>
<td align="right">316</td>
<td align="left">0</td>
<td align="right">5.924256</td>
<td align="right">55</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">7</td>
<td align="left">LF</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">61.05263</td>
<td align="left">3</td>
<td align="right">1</td>
<td align="right">6.198479</td>
<td align="right">34.01940</td>
<td align="right">322</td>
<td align="left">0</td>
<td align="right">7.100852</td>
<td align="right">46</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">7</td>
<td align="left">LR</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">61.05263</td>
<td align="left">3</td>
<td align="right">0</td>
<td align="right">6.198479</td>
<td align="right">34.01940</td>
<td align="right">322</td>
<td align="left">0</td>
<td align="right">7.100852</td>
<td align="right">46</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">7</td>
<td align="left">RF</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">61.05263</td>
<td align="left">3</td>
<td align="right">1</td>
<td align="right">6.198479</td>
<td align="right">34.01940</td>
<td align="right">322</td>
<td align="left">0</td>
<td align="right">7.100852</td>
<td align="right">46</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">7</td>
<td align="left">RR</td>
<td align="left">2</td>
<td align="left">y</td>
<td align="right">61.05263</td>
<td align="left">3</td>
<td align="right">0</td>
<td align="right">6.198479</td>
<td align="right">34.01940</td>
<td align="right">322</td>
<td align="left">0</td>
<td align="right">7.100852</td>
<td align="right">46</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">7</td>
<td align="left">LF</td>
<td align="left">0</td>
<td align="left">y</td>
<td align="right">57.82895</td>
<td align="left">3</td>
<td align="right">0</td>
<td align="right">4.025352</td>
<td align="right">30.84426</td>
<td align="right">390</td>
<td align="left">1</td>
<td align="right">7.697575</td>
<td align="right">49</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">7</td>
<td align="left">LR</td>
<td align="left">0</td>
<td align="left">y</td>
<td align="right">57.82895</td>
<td align="left">3</td>
<td align="right">1</td>
<td align="right">4.025352</td>
<td align="right">30.84426</td>
<td align="right">390</td>
<td align="left">1</td>
<td align="right">7.697575</td>
<td align="right">49</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p><br> <br></p>
</div>
<div id="inspect-data" class="section level2">
<h2>Inspect Data</h2>
<pre class="r"><code>#summarytools::dfSummary(Baseline, style=&#39;grid&#39;)
print(summarytools::dfSummary(Baseline, valid.col=FALSE,graph.magnif=0.5,varnumbers=F,style=&quot;grid&quot;))</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;pryr&#39;:
##   method      from
##   print.bytes Rcpp</code></pre>
<pre><code>## Data Frame Summary  
##   
## Dimensions: 4704 x 15  
## Duplicates: 0  
## 
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | Variable     | Stats / Values             | Freqs (% of Valid)   | Graph                      | Missing |
## +==============+============================+======================+============================+=========+
## | FARMID       | Mean (sd) : 4 (1.5)        | 1 :  296 ( 6.3%)     | I                          | 0       |
## | [numeric]    | min &lt; med &lt; max:           | 2 :  324 ( 6.9%)     | I                          | (0%)    |
## |              | 1 &lt; 4 &lt; 7                  | 3 : 1044 (22.2%)     | IIII                       |         |
## |              | IQR (CV) : 2 (0.4)         | 4 : 1452 (30.9%)     | IIIIII                     |         |
## |              |                            | 5 :  948 (20.2%)     | IIII                       |         |
## |              |                            | 6 :  188 ( 4.0%)     |                            |         |
## |              |                            | 7 :  452 ( 9.6%)     | I                          |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | CowID        | Mean (sd) : 4575.5 (3181)  | 1116 distinct values |     :                      | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      | : : :                      | (0%)    |
## |              | 6 &lt; 4298 &lt; 23096           |                      | : : :                      |         |
## |              | IQR (CV) : 4152.5 (0.7)    |                      | : : :                      |         |
## |              |                            |                      | : : : :   . .              |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | QTR          | 1. LF                      | 1176 (25.0%)         | IIIII                      | 0       |
## | [factor]     | 2. LR                      | 1176 (25.0%)         | IIIII                      | (0%)    |
## |              | 3. RF                      | 1176 (25.0%)         | IIIII                      |         |
## |              | 4. RR                      | 1176 (25.0%)         | IIIII                      |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | Tx           | 1. 0                       | 1568 (33.3%)         | IIIIII                     | 0       |
## | [factor]     | 2. 1                       | 1592 (33.8%)         | IIIIII                     | (0%)    |
## |              | 3. 2                       | 1544 (32.8%)         | IIIIII                     |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | Spectramast  | 1. n                       | 1740 (37.0%)         | IIIIIII                    | 0       |
## | [character]  | 2. y                       | 2964 (63.0%)         | IIIIIIIIIIII               | (0%)    |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | Age          | Mean (sd) : 46.7 (15.2)    | 663 distinct values  | :                          | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      | :                          | (0%)    |
## |              | 30.4 &lt; 44.4 &lt; 122.3        |                      | : :                        |         |
## |              | IQR (CV) : 22.4 (0.3)      |                      | : : .                      |         |
## |              |                            |                      | : : : : : .                |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | Parity       | 1. 1                       | 2008 (42.7%)         | IIIIIIII                   | 0       |
## | [factor]     | 2. 2                       | 1420 (30.2%)         | IIIIII                     | (0%)    |
## |              | 3. 3                       | 1276 (27.1%)         | IIIII                      |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | IMIDO        | Min  : 0                   | 0 : 3164 (74.6%)     | IIIIIIIIIIIIII             | 462     |
## | [numeric]    | Mean : 0.3                 | 1 : 1078 (25.4%)     | IIIII                      | (9.82%) |
## |              | Max  : 1                   |                      |                            |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | DOSCC        | Mean (sd) : 4.4 (1.2)      | 395 distinct values  |       :                    | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      |     . : :                  | (0%)    |
## |              | 1.6 &lt; 4.3 &lt; 8.6            |                      |     : : : .                |         |
## |              | IQR (CV) : 1.6 (0.3)       |                      |   : : : : : .              |         |
## |              |                            |                      | . : : : : : : : .          |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | DOMY         | Mean (sd) : 27.3 (8.7)     | 87 distinct values   |             :              | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      |           : :              | (0%)    |
## |              | 1.8 &lt; 28.6 &lt; 49.4          |                      |         : : : .            |         |
## |              | IQR (CV) : 10.9 (0.3)      |                      |       . : : : :            |         |
## |              |                            |                      | . : : : : : : : .          |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | DODIM        | Mean (sd) : 324.7 (45.6)   | 179 distinct values  |   :                        | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      |   :                        | (0%)    |
## |              | 252 &lt; 305.5 &lt; 584          |                      |   :                        |         |
## |              | IQR (CV) : 49 (0.1)        |                      |   : .                      |         |
## |              |                            |                      |   : : : . .                |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | PrevCM       | 1. 0                       | 4056 (86.2%)         | IIIIIIIIIIIIIIIII          | 0       |
## | [factor]     | 2. 1                       |  648 (13.8%)         | II                         | (0%)    |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | PrevSCCHI    | Mean (sd) : 5.4 (1.3)      | 611 distinct values  |     . :                    | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      |     : : : .                | (0%)    |
## |              | 2.9 &lt; 5.3 &lt; 9.2            |                      |   : : : : :                |         |
## |              | IQR (CV) : 1.8 (0.2)       |                      |   : : : : : : .            |         |
## |              |                            |                      | : : : : : : : : . .        |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | DPlength     | Mean (sd) : 55.8 (7.8)     | 54 distinct values   |         :                  | 0       |
## | [numeric]    | min &lt; med &lt; max:           |                      |         :                  | (0%)    |
## |              | 30 &lt; 56 &lt; 87               |                      |         : :                |         |
## |              | IQR (CV) : 8 (0.1)         |                      |       : : :                |         |
## |              |                            |                      |   . : : : : : .            |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+
## | PCSampDIM    | Mean (sd) : 5.8 (2.8)      | 14 distinct values   |       :                    | 280     |
## | [numeric]    | min &lt; med &lt; max:           |                      |       :     :              | (5.95%) |
## |              | 0 &lt; 6 &lt; 13                 |                      |     . : . . :              |         |
## |              | IQR (CV) : 4 (0.5)         |                      | .   : : : : :              |         |
## |              |                            |                      | : : : : : : : : . .        |         |
## +--------------+----------------------------+----------------------+----------------------------+---------+</code></pre>
<p><br> <br></p>
</div>
<div id="compare-treatment-groups-at-baseline" class="section level2">
<h2>Compare treatment groups at baseline</h2>
<pre class="r"><code>table1::table1(~ factor(FARMID) + Spectramast + Age + Parity + factor(IMIDO) + DOSCC + DOMY + DODIM + PrevCM + PrevSCCHI + DPlength + PCSampDIM | Tx, data=SDCTQTR) %&gt;% kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">x</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
|
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">0<br><span class="stratn">(n=1568)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">1<br><span class="stratn">(n=1592)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">2<br><span class="stratn">(n=1544)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=4704)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">factor(FARMID)</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
1
</td>
<td>
112 (7.1%)
</td>
<td>
100 (6.3%)
</td>
<td>
84 (5.4%)
</td>
<td>
296 (6.3%)
</td>
</tr>
<tr>
<td class="rowlabel">
2
</td>
<td>
108 (6.9%)
</td>
<td>
92 (5.8%)
</td>
<td>
124 (8.0%)
</td>
<td>
324 (6.9%)
</td>
</tr>
<tr>
<td class="rowlabel">
3
</td>
<td>
368 (23.5%)
</td>
<td>
348 (21.9%)
</td>
<td>
328 (21.2%)
</td>
<td>
1044 (22.2%)
</td>
</tr>
<tr>
<td class="rowlabel">
4
</td>
<td>
444 (28.3%)
</td>
<td>
512 (32.2%)
</td>
<td>
496 (32.1%)
</td>
<td>
1452 (30.9%)
</td>
</tr>
<tr>
<td class="rowlabel">
5
</td>
<td>
312 (19.9%)
</td>
<td>
332 (20.9%)
</td>
<td>
304 (19.7%)
</td>
<td>
948 (20.2%)
</td>
</tr>
<tr>
<td class="rowlabel">
6
</td>
<td>
64 (4.1%)
</td>
<td>
64 (4.0%)
</td>
<td>
60 (3.9%)
</td>
<td>
188 (4.0%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
7
</td>
<td class="lastrow">
160 (10.2%)
</td>
<td class="lastrow">
144 (9.0%)
</td>
<td class="lastrow">
148 (9.6%)
</td>
<td class="lastrow">
452 (9.6%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Spectramast</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
y
</td>
<td>
1568 (100%)
</td>
<td>
708 (44.5%)
</td>
<td>
688 (44.6%)
</td>
<td>
2964 (63.0%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
n
</td>
<td class="lastrow">
0 (0%)
</td>
<td class="lastrow">
884 (55.5%)
</td>
<td class="lastrow">
856 (55.4%)
</td>
<td class="lastrow">
1740 (37.0%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
47.2 (14.6)
</td>
<td>
46.9 (15.9)
</td>
<td>
46.1 (15.0)
</td>
<td>
46.7 (15.2)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.7 [30.8, 104]
</td>
<td class="lastrow">
44.1 [30.4, 111]
</td>
<td class="lastrow">
44.5 [30.4, 122]
</td>
<td class="lastrow">
44.4 [30.4, 122]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Parity</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
1
</td>
<td>
616 (39.3%)
</td>
<td>
732 (46.0%)
</td>
<td>
660 (42.7%)
</td>
<td>
2008 (42.7%)
</td>
</tr>
<tr>
<td class="rowlabel">
2
</td>
<td>
516 (32.9%)
</td>
<td>
416 (26.1%)
</td>
<td>
488 (31.6%)
</td>
<td>
1420 (30.2%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
3
</td>
<td class="lastrow">
436 (27.8%)
</td>
<td class="lastrow">
444 (27.9%)
</td>
<td class="lastrow">
396 (25.6%)
</td>
<td class="lastrow">
1276 (27.1%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">factor(IMIDO)</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
0
</td>
<td>
1046 (66.7%)
</td>
<td>
1069 (67.1%)
</td>
<td>
1049 (67.9%)
</td>
<td>
3164 (67.3%)
</td>
</tr>
<tr>
<td class="rowlabel">
1
</td>
<td>
350 (22.3%)
</td>
<td>
373 (23.4%)
</td>
<td>
355 (23.0%)
</td>
<td>
1078 (22.9%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
172 (11.0%)
</td>
<td class="lastrow">
150 (9.4%)
</td>
<td class="lastrow">
140 (9.1%)
</td>
<td class="lastrow">
462 (9.8%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">DOSCC</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
4.45 (1.21)
</td>
<td>
4.38 (1.23)
</td>
<td>
4.45 (1.22)
</td>
<td>
4.43 (1.22)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
4.33 [1.61, 8.35]
</td>
<td class="lastrow">
4.23 [1.61, 8.59]
</td>
<td class="lastrow">
4.39 [1.61, 8.25]
</td>
<td class="lastrow">
4.32 [1.61, 8.59]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">DOMY</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
26.7 (8.87)
</td>
<td>
27.9 (8.81)
</td>
<td>
27.3 (8.38)
</td>
<td>
27.3 (8.70)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
27.7 [4.54, 49.4]
</td>
<td class="lastrow">
29.0 [1.81, 49.4]
</td>
<td class="lastrow">
29.0 [2.72, 49.4]
</td>
<td class="lastrow">
28.6 [1.81, 49.4]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">DODIM</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
323 (45.6)
</td>
<td>
328 (46.7)
</td>
<td>
323 (44.5)
</td>
<td>
325 (45.6)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
304 [252, 584]
</td>
<td class="lastrow">
310 [258, 508]
</td>
<td class="lastrow">
304 [258, 512]
</td>
<td class="lastrow">
306 [252, 584]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">PrevCM</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
0
</td>
<td>
1344 (85.7%)
</td>
<td>
1360 (85.4%)
</td>
<td>
1352 (87.6%)
</td>
<td>
4056 (86.2%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
1
</td>
<td class="lastrow">
224 (14.3%)
</td>
<td class="lastrow">
232 (14.6%)
</td>
<td class="lastrow">
192 (12.4%)
</td>
<td class="lastrow">
648 (13.8%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">PrevSCCHI</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
5.37 (1.30)
</td>
<td>
5.49 (1.23)
</td>
<td>
5.40 (1.29)
</td>
<td>
5.42 (1.28)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
5.23 [2.87, 9.21]
</td>
<td class="lastrow">
5.37 [3.14, 9.21]
</td>
<td class="lastrow">
5.30 [2.94, 9.21]
</td>
<td class="lastrow">
5.30 [2.87, 9.21]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">DPlength</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
55.4 (7.83)
</td>
<td>
56.1 (7.37)
</td>
<td>
56.0 (8.19)
</td>
<td>
55.8 (7.80)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
56.0 [33.0, 84.0]
</td>
<td class="lastrow">
56.0 [33.0, 84.0]
</td>
<td class="lastrow">
56.0 [30.0, 87.0]
</td>
<td class="lastrow">
56.0 [30.0, 87.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">PCSampDIM</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
5.81 (2.80)
</td>
<td>
5.75 (2.77)
</td>
<td>
5.75 (2.80)
</td>
<td>
5.77 (2.79)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
6.00 [0.00, 13.0]
</td>
<td>
6.00 [0.00, 13.0]
</td>
<td>
6.00 [0.00, 13.0]
</td>
<td>
6.00 [0.00, 13.0]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
84 (5.4%)
</td>
<td class="lastrow">
84 (5.3%)
</td>
<td class="lastrow">
112 (7.3%)
</td>
<td class="lastrow">
280 (6.0%)
</td>
</tr>
</tbody>
</table>
<p>|</p>
<p><br> <br> <br></p>
</div>
<div id="compare-herds" class="section level2">
<h2>Compare herds</h2>
<pre class="r"><code>table1::table1(~ Age + Parity  + DOSCC + DOMY + DODIM + PrevCM + PrevSCCHI + DPlength + PCSampDIM + factor(IMIDO) + factor(IMIPC) + factor(Cure) + factor(NewIMI) | factor(FARMID), data=SDCTQTR)</code></pre>
<div class="Rtable1"><table class="Rtable1">
<thead>
<tr>
<th class='rowlabel firstrow lastrow'></th>
<th class='firstrow lastrow'><span class='stratlabel'>1<br><span class='stratn'>(n=296)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>2<br><span class='stratn'>(n=324)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>3<br><span class='stratn'>(n=1044)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>4<br><span class='stratn'>(n=1452)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>5<br><span class='stratn'>(n=948)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>6<br><span class='stratn'>(n=188)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>7<br><span class='stratn'>(n=452)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(n=4704)</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Age</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>48.4 (16.0)</td>
<td>46.8 (14.3)</td>
<td>46.8 (13.4)</td>
<td>46.7 (16.1)</td>
<td>46.9 (15.9)</td>
<td>42.9 (11.1)</td>
<td>46.6 (16.1)</td>
<td>46.7 (15.2)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>44.4 [30.6, 90.2]</td>
<td class='lastrow'>44.5 [30.7, 95.7]</td>
<td class='lastrow'>44.8 [30.4, 95.5]</td>
<td class='lastrow'>44.2 [31.7, 122]</td>
<td class='lastrow'>44.5 [30.4, 115]</td>
<td class='lastrow'>43.7 [31.0, 82.6]</td>
<td class='lastrow'>44.6 [31.0, 114]</td>
<td class='lastrow'>44.4 [30.4, 122]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Parity</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>1</td>
<td>124 (41.9%)</td>
<td>132 (40.7%)</td>
<td>364 (34.9%)</td>
<td>700 (48.2%)</td>
<td>408 (43.0%)</td>
<td>92 (48.9%)</td>
<td>188 (41.6%)</td>
<td>2008 (42.7%)</td>
</tr>
<tr>
<td class='rowlabel'>2</td>
<td>60 (20.3%)</td>
<td>108 (33.3%)</td>
<td>380 (36.4%)</td>
<td>376 (25.9%)</td>
<td>288 (30.4%)</td>
<td>68 (36.2%)</td>
<td>140 (31.0%)</td>
<td>1420 (30.2%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>3</td>
<td class='lastrow'>112 (37.8%)</td>
<td class='lastrow'>84 (25.9%)</td>
<td class='lastrow'>300 (28.7%)</td>
<td class='lastrow'>376 (25.9%)</td>
<td class='lastrow'>252 (26.6%)</td>
<td class='lastrow'>28 (14.9%)</td>
<td class='lastrow'>124 (27.4%)</td>
<td class='lastrow'>1276 (27.1%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>DOSCC</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>4.50 (1.00)</td>
<td>4.07 (1.14)</td>
<td>4.00 (0.909)</td>
<td>4.48 (1.17)</td>
<td>5.17 (1.39)</td>
<td>4.34 (0.958)</td>
<td>3.91 (1.08)</td>
<td>4.43 (1.22)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>4.54 [2.56, 7.59]</td>
<td class='lastrow'>3.95 [2.30, 8.17]</td>
<td class='lastrow'>3.98 [2.60, 6.68]</td>
<td class='lastrow'>4.47 [1.61, 8.59]</td>
<td class='lastrow'>5.13 [1.61, 8.35]</td>
<td class='lastrow'>4.47 [2.56, 6.61]</td>
<td class='lastrow'>3.78 [2.56, 7.38]</td>
<td class='lastrow'>4.32 [1.61, 8.59]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>DOMY</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>22.9 (6.26)</td>
<td>26.7 (9.65)</td>
<td>29.5 (6.87)</td>
<td>30.3 (7.72)</td>
<td>19.6 (8.57)</td>
<td>30.7 (4.77)</td>
<td>30.6 (6.31)</td>
<td>27.3 (8.70)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>22.7 [9.07, 38.1]</td>
<td class='lastrow'>28.6 [2.72, 44.0]</td>
<td class='lastrow'>30.4 [8.62, 47.6]</td>
<td class='lastrow'>30.4 [2.72, 49.4]</td>
<td class='lastrow'>20.0 [1.81, 39.9]</td>
<td class='lastrow'>30.8 [16.8, 40.8]</td>
<td class='lastrow'>30.8 [15.4, 48.5]</td>
<td class='lastrow'>28.6 [1.81, 49.4]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>DODIM</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>347 (51.7)</td>
<td>334 (52.7)</td>
<td>313 (37.6)</td>
<td>325 (44.3)</td>
<td>329 (50.6)</td>
<td>328 (43.0)</td>
<td>321 (39.0)</td>
<td>325 (45.6)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>326 [292, 584]</td>
<td class='lastrow'>304 [293, 512]</td>
<td class='lastrow'>293 [266, 475]</td>
<td class='lastrow'>296 [283, 468]</td>
<td class='lastrow'>308 [252, 512]</td>
<td class='lastrow'>314 [258, 444]</td>
<td class='lastrow'>307 [272, 476]</td>
<td class='lastrow'>306 [252, 584]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>PrevCM</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>0</td>
<td>244 (82.4%)</td>
<td>320 (98.8%)</td>
<td>904 (86.6%)</td>
<td>1252 (86.2%)</td>
<td>748 (78.9%)</td>
<td>184 (97.9%)</td>
<td>404 (89.4%)</td>
<td>4056 (86.2%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>1</td>
<td class='lastrow'>52 (17.6%)</td>
<td class='lastrow'>4 (1.2%)</td>
<td class='lastrow'>140 (13.4%)</td>
<td class='lastrow'>200 (13.8%)</td>
<td class='lastrow'>200 (21.1%)</td>
<td class='lastrow'>4 (2.1%)</td>
<td class='lastrow'>48 (10.6%)</td>
<td class='lastrow'>648 (13.8%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>PrevSCCHI</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>5.46 (1.31)</td>
<td>5.06 (1.31)</td>
<td>4.77 (1.08)</td>
<td>5.76 (1.20)</td>
<td>6.13 (1.11)</td>
<td>5.02 (0.920)</td>
<td>4.73 (1.16)</td>
<td>5.42 (1.28)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>5.31 [3.43, 9.21]</td>
<td class='lastrow'>4.78 [3.33, 9.21]</td>
<td class='lastrow'>4.61 [2.87, 8.21]</td>
<td class='lastrow'>5.65 [3.00, 9.21]</td>
<td class='lastrow'>6.06 [3.40, 9.21]</td>
<td class='lastrow'>5.09 [3.09, 7.06]</td>
<td class='lastrow'>4.53 [2.94, 8.00]</td>
<td class='lastrow'>5.30 [2.87, 9.21]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>DPlength</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>53.1 (11.7)</td>
<td>52.6 (5.62)</td>
<td>57.9 (6.38)</td>
<td>56.1 (6.00)</td>
<td>55.6 (8.19)</td>
<td>60.3 (7.14)</td>
<td>53.0 (10.6)</td>
<td>55.8 (7.80)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Median [Min, Max]</td>
<td class='lastrow'>52.0 [32.0, 85.0]</td>
<td class='lastrow'>53.0 [30.0, 63.0]</td>
<td class='lastrow'>58.0 [35.0, 87.0]</td>
<td class='lastrow'>56.0 [35.0, 74.0]</td>
<td class='lastrow'>55.0 [35.0, 85.0]</td>
<td class='lastrow'>60.0 [47.0, 84.0]</td>
<td class='lastrow'>55.0 [33.0, 77.0]</td>
<td class='lastrow'>56.0 [30.0, 87.0]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>PCSampDIM</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>2.70 (1.84)</td>
<td>2.48 (1.70)</td>
<td>7.61 (2.67)</td>
<td>6.31 (2.09)</td>
<td>6.20 (2.14)</td>
<td>4.02 (2.61)</td>
<td>4.41 (2.79)</td>
<td>5.77 (2.79)</td>
</tr>
<tr>
<td class='rowlabel'>Median [Min, Max]</td>
<td>2.00 [0.00, 7.00]</td>
<td>2.00 [0.00, 7.00]</td>
<td>8.00 [1.00, 13.0]</td>
<td>6.00 [3.00, 13.0]</td>
<td>6.00 [3.00, 13.0]</td>
<td>4.00 [0.00, 10.0]</td>
<td>5.00 [0.00, 13.0]</td>
<td>6.00 [0.00, 13.0]</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>12 (4.1%)</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>112 (10.7%)</td>
<td class='lastrow'>84 (5.8%)</td>
<td class='lastrow'>40 (4.2%)</td>
<td class='lastrow'>12 (6.4%)</td>
<td class='lastrow'>20 (4.4%)</td>
<td class='lastrow'>280 (6.0%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>factor(IMIDO)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>0</td>
<td>263 (88.9%)</td>
<td>294 (90.7%)</td>
<td>436 (41.8%)</td>
<td>927 (63.8%)</td>
<td>789 (83.2%)</td>
<td>126 (67.0%)</td>
<td>329 (72.8%)</td>
<td>3164 (67.3%)</td>
</tr>
<tr>
<td class='rowlabel'>1</td>
<td>29 (9.8%)</td>
<td>29 (9.0%)</td>
<td>255 (24.4%)</td>
<td>492 (33.9%)</td>
<td>136 (14.3%)</td>
<td>47 (25.0%)</td>
<td>90 (19.9%)</td>
<td>1078 (22.9%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>4 (1.4%)</td>
<td class='lastrow'>1 (0.3%)</td>
<td class='lastrow'>353 (33.8%)</td>
<td class='lastrow'>33 (2.3%)</td>
<td class='lastrow'>23 (2.4%)</td>
<td class='lastrow'>15 (8.0%)</td>
<td class='lastrow'>33 (7.3%)</td>
<td class='lastrow'>462 (9.8%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>factor(IMIPC)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>0</td>
<td>277 (93.6%)</td>
<td>308 (95.1%)</td>
<td>638 (61.1%)</td>
<td>839 (57.8%)</td>
<td>656 (69.2%)</td>
<td>147 (78.2%)</td>
<td>347 (76.8%)</td>
<td>3212 (68.3%)</td>
</tr>
<tr>
<td class='rowlabel'>1</td>
<td>18 (6.1%)</td>
<td>16 (4.9%)</td>
<td>197 (18.9%)</td>
<td>431 (29.7%)</td>
<td>231 (24.4%)</td>
<td>21 (11.2%)</td>
<td>47 (10.4%)</td>
<td>961 (20.4%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>1 (0.3%)</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>209 (20.0%)</td>
<td class='lastrow'>182 (12.5%)</td>
<td class='lastrow'>61 (6.4%)</td>
<td class='lastrow'>20 (10.6%)</td>
<td class='lastrow'>58 (12.8%)</td>
<td class='lastrow'>531 (11.3%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>factor(Cure)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>0</td>
<td>1 (0.3%)</td>
<td>3 (0.9%)</td>
<td>21 (2.0%)</td>
<td>73 (5.0%)</td>
<td>14 (1.5%)</td>
<td>2 (1.1%)</td>
<td>3 (0.7%)</td>
<td>117 (2.5%)</td>
</tr>
<tr>
<td class='rowlabel'>1</td>
<td>28 (9.5%)</td>
<td>26 (8.0%)</td>
<td>176 (16.9%)</td>
<td>359 (24.7%)</td>
<td>114 (12.0%)</td>
<td>44 (23.4%)</td>
<td>71 (15.7%)</td>
<td>818 (17.4%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>267 (90.2%)</td>
<td class='lastrow'>295 (91.0%)</td>
<td class='lastrow'>847 (81.1%)</td>
<td class='lastrow'>1020 (70.2%)</td>
<td class='lastrow'>820 (86.5%)</td>
<td class='lastrow'>142 (75.5%)</td>
<td class='lastrow'>378 (83.6%)</td>
<td class='lastrow'>3769 (80.1%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>factor(NewIMI)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>0</td>
<td>274 (92.6%)</td>
<td>310 (95.7%)</td>
<td>444 (42.5%)</td>
<td>882 (60.7%)</td>
<td>654 (69.0%)</td>
<td>141 (75.0%)</td>
<td>325 (71.9%)</td>
<td>3030 (64.4%)</td>
</tr>
<tr>
<td class='rowlabel'>1</td>
<td>17 (5.7%)</td>
<td>13 (4.0%)</td>
<td>107 (10.2%)</td>
<td>360 (24.8%)</td>
<td>213 (22.5%)</td>
<td>15 (8.0%)</td>
<td>39 (8.6%)</td>
<td>764 (16.2%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Missing</td>
<td class='lastrow'>5 (1.7%)</td>
<td class='lastrow'>1 (0.3%)</td>
<td class='lastrow'>493 (47.2%)</td>
<td class='lastrow'>210 (14.5%)</td>
<td class='lastrow'>81 (8.5%)</td>
<td class='lastrow'>32 (17.0%)</td>
<td class='lastrow'>88 (19.5%)</td>
<td class='lastrow'>910 (19.3%)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="steps-1-2-of-model-building-were-conducted-in-r-this-document." class="section level2">
<h2>Steps 1-2 of model building were conducted in R (this document).</h2>
</div>
<div id="refer-to-stata-log-file-for-steps-3-6." class="section level2">
<h2>Refer to STATA log file for steps 3-6.</h2>
<p><br> <br> <br></p>
</div>
</div>
<div id="outcome-1-cure" class="section level1">
<h1>Outcome 1: Cure</h1>
<pre class="r"><code>library(gmodels)
CrossTable(SDCTQTR$Tx,SDCTQTR$Cure,prop.c=FALSE,prop.t=FALSE,prop.chisq = FALSE)</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  935 
## 
##  
##              | SDCTQTR$Cure 
##   SDCTQTR$Tx |         0 |         1 | Row Total | 
## -------------|-----------|-----------|-----------|
##            0 |        40 |       263 |       303 | 
##              |     0.132 |     0.868 |     0.324 | 
## -------------|-----------|-----------|-----------|
##            1 |        41 |       288 |       329 | 
##              |     0.125 |     0.875 |     0.352 | 
## -------------|-----------|-----------|-----------|
##            2 |        36 |       267 |       303 | 
##              |     0.119 |     0.881 |     0.324 | 
## -------------|-----------|-----------|-----------|
## Column Total |       117 |       818 |       935 | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
<div id="logistic-regression-model-for-dry-period-cure" class="section level2">
<h2>Logistic regression model for dry period cure</h2>
</div>
<div id="model-building-plan" class="section level2">
<h2>Model building plan</h2>
<p>Model type: Logistic regression with mixed effects (generalized linear mixed model with binomial family / logit link).</p>
<p>Step 1: Identify potential confouders using a directed acyclic graph (DAG)</p>
<p>Step 2: Identify correlated variables using pearson and kendalls correlation coefficients</p>
<p>Step 3: Create model with all potential confounders</p>
<p>Step 4: Investigate potential effect measure modification</p>
<p>Step 5: Remove unneccesary covariates in backwards stepwise fashion using 10% rule (i.e. if odds ratio for algorithm or culture changes by &gt;10% after removing the covariate, the covariate is retained in the model)</p>
<p>Step 6: Report final model</p>
<div id="step-1-dag" class="section level3">
<h3>Step 1: DAG</h3>
<p>This is used to identify variables that could be confounders if they are not balanced between treatment groups.</p>
<pre class="r"><code>library(DiagrammeR)
mermaid(&quot;graph LR
        T(Treatment)--&gt;U(Cure)
        A(Age)--&gt;T
        P(Parity)--&gt;T
        M(Yield at dry-off)--&gt;T
        S(SCC during prev lactation)--&gt;T
        C(CM in prev lact)--&gt;T
        D(DIM at dry off) --&gt; T
        K(DIM at post calving sample) --&gt; T
        D--&gt;M
        D--&gt;S
        D--&gt;U
        K--&gt;U
        A--&gt;U
        P--&gt;U
        M--&gt;U
        S--&gt;U
        C--&gt;U
        C--&gt;M
        P--&gt;C
        P--&gt;S
        P--&gt;M
        A--&gt;P
        A--&gt;C
        A--&gt;S
        A--&gt;M
        M--&gt;S
        C--&gt;S
style D fill:#FFFFFF, stroke-width:0px
style K fill:#FFFFFF, stroke-width:0px
style A fill:#FFFFFF, stroke-width:0px
        style T fill:#FFFFFF, stroke-width:2px
        style P fill:#FFFFFF, stroke-width:0px
        style M fill:#FFFFFF, stroke-width:0px
        style S fill:#FFFFFF, stroke-width:0px
        style C fill:#FFFFFF, stroke-width:0px
        style I fill:#FFFFFF, stroke-width:0px
        style U fill:#FFFFFF, stroke-width:2px
        &quot;)</code></pre>
<div id="htmlwidget-0b03f30b91b14769464d" style="width:672px;height:480px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-0b03f30b91b14769464d">{"x":{"diagram":"graph LR\n        T(Treatment)-->U(Cure)\n        A(Age)-->T\n        P(Parity)-->T\n        M(Yield at dry-off)-->T\n        S(SCC during prev lactation)-->T\n        C(CM in prev lact)-->T\n        D(DIM at dry off) --> T\n        K(DIM at post calving sample) --> T\n        D-->M\n        D-->S\n        D-->U\n        K-->U\n        A-->U\n        P-->U\n        M-->U\n        S-->U\n        C-->U\n        C-->M\n        P-->C\n        P-->S\n        P-->M\n        A-->P\n        A-->C\n        A-->S\n        A-->M\n        M-->S\n        C-->S\nstyle D fill:#FFFFFF, stroke-width:0px\nstyle K fill:#FFFFFF, stroke-width:0px\nstyle A fill:#FFFFFF, stroke-width:0px\n        style T fill:#FFFFFF, stroke-width:2px\n        style P fill:#FFFFFF, stroke-width:0px\n        style M fill:#FFFFFF, stroke-width:0px\n        style S fill:#FFFFFF, stroke-width:0px\n        style C fill:#FFFFFF, stroke-width:0px\n        style I fill:#FFFFFF, stroke-width:0px\n        style U fill:#FFFFFF, stroke-width:2px\n        "},"evals":[],"jsHooks":[]}</script>
<p>According to this DAG, I may need to control for the following variables.</p>
<p>Parity [“Parity”] or Age [“Age”] &lt;- likely to correlated</p>
<p>Yield at most recent test before dry off [“DOMY”]</p>
<p>Somatic cell count at last herd test during previous lactation [“DOSCC” or “PrevSCCHi”] &lt;- likely to be correlated</p>
<p>Clinical mastitis in previous lactation [“PrevCM”]</p>
<p>Days in milk at dry-off [“DODIM”]</p>
<p>Days in milk at post-calving sample [“PCSampDIM”]</p>
<p><br> <br> <br> <br></p>
</div>
<div id="step-2-identify-correlated-covariates" class="section level3">
<h3>Step 2: Identify correlated covariates</h3>
<p>Pearson correlation matrix among potential predictors</p>
<pre class="r"><code>cor &lt;- Baseline[, c(6,7,9,10,11,13,14,15)]
cor$Parity &lt;- as.numeric(cor$Parity)
#corrplot(cor)
cor &lt;- cor(cor, use = &quot;complete.obs&quot;)
round(cor, 2)</code></pre>
<pre><code>##             Age Parity DOSCC  DOMY DODIM PrevSCCHI DPlength PCSampDIM
## Age        1.00   0.90  0.28 -0.12  0.13      0.22    -0.09     -0.01
## Parity     0.90   1.00  0.29 -0.11  0.02      0.20    -0.12     -0.01
## DOSCC      0.28   0.29  1.00 -0.44  0.12      0.63    -0.06      0.03
## DOMY      -0.12  -0.11 -0.44  1.00 -0.22     -0.31    -0.02     -0.01
## DODIM      0.13   0.02  0.12 -0.22  1.00      0.18    -0.04     -0.08
## PrevSCCHI  0.22   0.20  0.63 -0.31  0.18      1.00    -0.06      0.03
## DPlength  -0.09  -0.12 -0.06 -0.02 -0.04     -0.06     1.00      0.12
## PCSampDIM -0.01  -0.01  0.03 -0.01 -0.08      0.03     0.12      1.00</code></pre>
<pre class="r"><code>cor &lt;- Baseline[, c(6,7,9,10,11,13,14,15)]
cor$Parity &lt;- as.numeric(cor$Parity)
cor &lt;- cor(cor, use = &quot;complete.obs&quot;, method=&quot;kendal&quot;)
round(cor, 2)</code></pre>
<pre><code>##             Age Parity DOSCC  DOMY DODIM PrevSCCHI DPlength PCSampDIM
## Age        1.00   0.81  0.23 -0.09  0.16      0.17    -0.10      0.00
## Parity     0.81   1.00  0.26 -0.10  0.03      0.16    -0.12     -0.01
## DOSCC      0.23   0.26  1.00 -0.27  0.06      0.48    -0.07      0.02
## DOMY      -0.09  -0.10 -0.27  1.00 -0.12     -0.20     0.03      0.00
## DODIM      0.16   0.03  0.06 -0.12  1.00      0.12    -0.09     -0.10
## PrevSCCHI  0.17   0.16  0.48 -0.20  0.12      1.00    -0.06      0.03
## DPlength  -0.10  -0.12 -0.07  0.03 -0.09     -0.06     1.00      0.08
## PCSampDIM  0.00  -0.01  0.02  0.00 -0.10      0.03     0.08      1.00</code></pre>
<p>Age and Parity highly correlated as expected. Will only offer parity.</p>
<p>Previous lactation peak SCC is moderately correlated with SCC at last herd test (DOSCC). Will only offer DOSCC.</p>
<p><br> <br> <br> <br></p>
</div>
</div>
</div>
<div id="outcome-2-imi-at-calving" class="section level1">
<h1>Outcome 2: IMI at Calving</h1>
<pre class="r"><code>CrossTable(SDCTQTR$Tx,SDCTQTR$IMIPC,prop.c=FALSE,prop.t=FALSE,prop.chisq = FALSE)</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  4173 
## 
##  
##              | SDCTQTR$IMIPC 
##   SDCTQTR$Tx |         0 |         1 | Row Total | 
## -------------|-----------|-----------|-----------|
##            0 |      1075 |       317 |      1392 | 
##              |     0.772 |     0.228 |     0.334 | 
## -------------|-----------|-----------|-----------|
##            1 |      1085 |       341 |      1426 | 
##              |     0.761 |     0.239 |     0.342 | 
## -------------|-----------|-----------|-----------|
##            2 |      1052 |       303 |      1355 | 
##              |     0.776 |     0.224 |     0.325 | 
## -------------|-----------|-----------|-----------|
## Column Total |      3212 |       961 |      4173 | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
<div id="logistic-regression-model-for-imi-at-calving" class="section level2">
<h2>Logistic regression model for IMI at calving</h2>
</div>
<div id="model-building-plan-1" class="section level2">
<h2>Model building plan</h2>
<p>Model type: Logistic regression with mixed effects (generalized linear mixed model with binomial family / logit link).</p>
<p>Step 1: Identify potential confouders using a directed acyclic graph (DAG)</p>
<p>Step 2: Create model with all potential confounders</p>
<p>Step 3: Investigate potential effect measure modification</p>
<p>Step 4: Remove unneccesary covariates in backwards stepwise fashion using 10% rule (i.e. if odds ratio for algorithm or culture changes by &gt;10% after removing the covariate, the covariate is retained in the model)</p>
<p>Step 5: Report final model</p>
<div id="step-1-dag-1" class="section level3">
<h3>Step 1: DAG</h3>
<p>This is used to identify variables that could be confounders if they are not balanced between treatment groups.</p>
<pre class="r"><code>library(DiagrammeR)
mermaid(&quot;graph LR
        T(Treatment)--&gt;U(IMI at calving)
        A(Age)--&gt;T
        P(Parity)--&gt;T
        M(Yield at dry-off)--&gt;T
        S(SCC during prev lactation)--&gt;T
        C(CM in prev lact)--&gt;T
        D(DIM at dry off) --&gt; M
        I(IMI at dry off) --&gt; T
        K(DIM at post calving sample) --&gt; T
        I--&gt;U
        P--&gt;I
        A--&gt;I
        C--&gt;I
        I--&gt;S
        I--&gt;M
        D--&gt;S
        D--&gt;U
        K--&gt;U
        A--&gt;U
        P--&gt;U
        M--&gt;U
        S--&gt;U
        C--&gt;U
        C--&gt;M
        P--&gt;C
        P--&gt;S
        P--&gt;M
        A--&gt;P
        A--&gt;C
        A--&gt;S
        A--&gt;M
        M--&gt;S
        C--&gt;S
style D fill:#FFFFFF, stroke-width:0px
style K fill:#FFFFFF, stroke-width:0px
style A fill:#FFFFFF, stroke-width:0px
        style T fill:#FFFFFF, stroke-width:2px
        style P fill:#FFFFFF, stroke-width:0px
        style M fill:#FFFFFF, stroke-width:0px
        style S fill:#FFFFFF, stroke-width:0px
        style C fill:#FFFFFF, stroke-width:0px
        style I fill:#FFFFFF, stroke-width:0px
        style U fill:#FFFFFF, stroke-width:2px
        &quot;)</code></pre>
<div id="htmlwidget-7a58a7d5ce0440af7212" style="width:672px;height:480px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-7a58a7d5ce0440af7212">{"x":{"diagram":"graph LR\n        T(Treatment)-->U(IMI at calving)\n        A(Age)-->T\n        P(Parity)-->T\n        M(Yield at dry-off)-->T\n        S(SCC during prev lactation)-->T\n        C(CM in prev lact)-->T\n        D(DIM at dry off) --> M\n        I(IMI at dry off) --> T\n        K(DIM at post calving sample) --> T\n        I-->U\n        P-->I\n        A-->I\n        C-->I\n        I-->S\n        I-->M\n        D-->S\n        D-->U\n        K-->U\n        A-->U\n        P-->U\n        M-->U\n        S-->U\n        C-->U\n        C-->M\n        P-->C\n        P-->S\n        P-->M\n        A-->P\n        A-->C\n        A-->S\n        A-->M\n        M-->S\n        C-->S\nstyle D fill:#FFFFFF, stroke-width:0px\nstyle K fill:#FFFFFF, stroke-width:0px\nstyle A fill:#FFFFFF, stroke-width:0px\n        style T fill:#FFFFFF, stroke-width:2px\n        style P fill:#FFFFFF, stroke-width:0px\n        style M fill:#FFFFFF, stroke-width:0px\n        style S fill:#FFFFFF, stroke-width:0px\n        style C fill:#FFFFFF, stroke-width:0px\n        style I fill:#FFFFFF, stroke-width:0px\n        style U fill:#FFFFFF, stroke-width:2px\n        "},"evals":[],"jsHooks":[]}</script>
<p>According to this DAG, I may need to control for the following variables.</p>
<p>Parity [“Parity”] or Age [“Age”] &lt;- will use Parity</p>
<p>Yield at most recent test before dry off [“DOMY”]</p>
<p>Somatic cell count at last herd test during previous lactation [“DOSCC” or “PrevSCCHi”] &lt;- will use DOSCC</p>
<p>Clinical mastitis in previous lactation [“PrevCM”]</p>
<p>IMI at dry-off [“DOIMI”]</p>
<p>Days in milk at dry-off [“DODIM”]</p>
<p>Days in milk at post-calving sample [“PCSampDIM”]</p>
<p><br> <br> <br> <br></p>
</div>
</div>
</div>
<div id="outcome-3-new-imi" class="section level1">
<h1>Outcome 3: New IMI</h1>
<pre class="r"><code>CrossTable(SDCTQTR$Tx,SDCTQTR$NewIMI,prop.c=FALSE,prop.t=FALSE,prop.chisq = FALSE)</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  3794 
## 
##  
##              | SDCTQTR$NewIMI 
##   SDCTQTR$Tx |         0 |         1 | Row Total | 
## -------------|-----------|-----------|-----------|
##            0 |      1009 |       246 |      1255 | 
##              |     0.804 |     0.196 |     0.331 | 
## -------------|-----------|-----------|-----------|
##            1 |      1026 |       272 |      1298 | 
##              |     0.790 |     0.210 |     0.342 | 
## -------------|-----------|-----------|-----------|
##            2 |       995 |       246 |      1241 | 
##              |     0.802 |     0.198 |     0.327 | 
## -------------|-----------|-----------|-----------|
## Column Total |      3030 |       764 |      3794 | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
<div id="logistic-regression-model-for-new-imi" class="section level2">
<h2>Logistic regression model for new IMI</h2>
</div>
<div id="model-building-plan-2" class="section level2">
<h2>Model building plan</h2>
<p>Model type: Logistic regression with mixed effects (generalized linear mixed model with binomial family / logit link).</p>
<p>Step 1: Identify potential confouders using a directed acyclic graph (DAG)</p>
<p>Step 2: Create model with all potential confounders</p>
<p>Step 3: Investigate potential effect measure modification</p>
<p>Step 4: Remove unneccesary covariates in backwards stepwise fashion using 10% rule (i.e. if odds ratio for algorithm or culture changes by &gt;10% after removing the covariate, the covariate is retained in the model)</p>
<p>Step 5: Report final model</p>
<div id="step-1-dag-2" class="section level3">
<h3>Step 1: DAG</h3>
<p>This is used to identify variables that could be confounders if they are not balanced between treatment groups.</p>
<pre class="r"><code>library(DiagrammeR)
mermaid(&quot;graph LR
        T(Treatment)--&gt;U(New IMI)
        A(Age)--&gt;T
        P(Parity)--&gt;T
        M(Yield at dry-off)--&gt;T
        S(SCC during prev lactation)--&gt;T
        C(CM in prev lact)--&gt;T
        D(DIM at dry off) --&gt; T
        I(IMI at dry off) --&gt; T
        K(DIM at post calving sample) --&gt; T
        I--&gt;U
        P--&gt;I
        A--&gt;I
        C--&gt;I
        I--&gt;S
        I--&gt;M
        D--&gt;S
        D--&gt;M        
        D--&gt;U
        K--&gt;U
        A--&gt;U
        P--&gt;U
        M--&gt;U
        S--&gt;U
        C--&gt;U
        C--&gt;M
        P--&gt;C
        P--&gt;S
        P--&gt;M
        A--&gt;P
        A--&gt;C
        A--&gt;S
        A--&gt;M
        M--&gt;S
        C--&gt;S
style D fill:#FFFFFF, stroke-width:0px
style K fill:#FFFFFF, stroke-width:0px
style A fill:#FFFFFF, stroke-width:0px
        style T fill:#FFFFFF, stroke-width:2px
        style P fill:#FFFFFF, stroke-width:0px
        style M fill:#FFFFFF, stroke-width:0px
        style S fill:#FFFFFF, stroke-width:0px
        style C fill:#FFFFFF, stroke-width:0px
        style I fill:#FFFFFF, stroke-width:0px
        style U fill:#FFFFFF, stroke-width:2px
        &quot;)</code></pre>
<div id="htmlwidget-550df5d594cfcc285e01" style="width:672px;height:480px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-550df5d594cfcc285e01">{"x":{"diagram":"graph LR\n        T(Treatment)-->U(New IMI)\n        A(Age)-->T\n        P(Parity)-->T\n        M(Yield at dry-off)-->T\n        S(SCC during prev lactation)-->T\n        C(CM in prev lact)-->T\n        D(DIM at dry off) --> T\n        I(IMI at dry off) --> T\n        K(DIM at post calving sample) --> T\n        I-->U\n        P-->I\n        A-->I\n        C-->I\n        I-->S\n        I-->M\n        D-->S\n        D-->M        \n        D-->U\n        K-->U\n        A-->U\n        P-->U\n        M-->U\n        S-->U\n        C-->U\n        C-->M\n        P-->C\n        P-->S\n        P-->M\n        A-->P\n        A-->C\n        A-->S\n        A-->M\n        M-->S\n        C-->S\nstyle D fill:#FFFFFF, stroke-width:0px\nstyle K fill:#FFFFFF, stroke-width:0px\nstyle A fill:#FFFFFF, stroke-width:0px\n        style T fill:#FFFFFF, stroke-width:2px\n        style P fill:#FFFFFF, stroke-width:0px\n        style M fill:#FFFFFF, stroke-width:0px\n        style S fill:#FFFFFF, stroke-width:0px\n        style C fill:#FFFFFF, stroke-width:0px\n        style I fill:#FFFFFF, stroke-width:0px\n        style U fill:#FFFFFF, stroke-width:2px\n        "},"evals":[],"jsHooks":[]}</script>
<p>According to this DAG, I may need to control for the following variables.</p>
<p>Parity [“Parity”] or Age [“Age”] &lt;- will use Parity</p>
<p>Yield at most recent test before dry off [“DOMY”]</p>
<p>Somatic cell count at last herd test during previous lactation [“DOSCC” or “PrevSCCHi”] &lt;- will use DOSCC</p>
<p>Clinical mastitis in previous lactation [“PrevCM”]</p>
<p>IMI at dry-off [“DOIMI”]</p>
<p>Days in milk at dry-off [“DODIM”]</p>
<p>Days in milk at post-calving sample [“PCSampDIM”]</p>
<p><br> <br> <br> <br></p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
